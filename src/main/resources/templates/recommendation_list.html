<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>추천 목록</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <link rel="stylesheet" th:href="@{/document/css/layout.css}" />
    <link rel="stylesheet" th:href="@{/document/css/parties.css}" />
</head>
<body>

<!-- 헤더 -->
<div th:replace="~{fragments/header :: header}"></div>

<!-- 컨텐츠 -->
<div class="container mt-4">

    <!-- 제목 -->
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h1 class="page-title text-center w-100">추천 목록</h1>
    </div>

    <!-- 글쓰기 버튼 -->
    <div class="d-flex justify-content-end mb-3">
        <a href="/recommendation/save" class="btn btn-write">글쓰기</a>
    </div>

<!--    <button type="button" class="btn btn-write" data-bs-toggle="modal" data-bs-target="#createRecommendationModal">-->
<!--        글쓰기-->
<!--    </button>-->

    <!-- 추천 목록 테이블 -->
    <div class="table-responsive">
        <table class="table table-hover align-middle text-center">
            <thead class="table-warning">
            <tr>
                <th>번호</th>
                <th>상호명</th>
                <th>별점</th>
                <th>소요시간</th>
                <th>인당가격</th>
                <th>예약가능</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="recommendation, iterStat : ${recommendationList}">
                <td th:text="${iterStat.count}">1</td>
                <td>
                    <a th:href="@{/recommendation/{id}(id=${recommendation.id})}"
                       th:text="${recommendation.storeName}"
                       class="text-decoration-none text-dark fw-bold"></a>
                </td>
<!--                <td th:text="${recommendation.star}"></td>-->
                <td>
                    <span class="rating-stars">
                        <span th:each="i : ${#numbers.sequence(1, recommendation.star)}" class="star filled">★</span>
                        <!-- 빈 별 (recommendation.star < 5인 경우만) -->
                        <span th:if="${recommendation.star < 5}"
                              th:each="i : ${#numbers.sequence(1, 5 - recommendation.star)}"
                              class="star empty">★</span>
                    </span>
                </td>
                <td th:text="${recommendation.totalTime + ' 분'}"></td>
                <td th:text="${recommendation.pricePerPerson + ' 원'}"></td>
                <td>
                    <span th:if="${recommendation.reservation}" class="badge bg-success">가능</span>
                    <span th:unless="${recommendation.reservation}" class="badge bg-secondary">불가능</span>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>

<!-- 푸터 -->
<div th:replace="~{fragments/footer :: footer}"></div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
