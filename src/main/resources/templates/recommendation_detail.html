<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>게시글 상세보기</title>
    <script src="https://code.jquery.com/jquery-3.6.3.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/document/css/layout.css}" />
    <link rel="stylesheet" th:href="@{/document/css/parties.css}" />
</head>
<body>

<!-- 헤더 -->
<div th:replace="~{fragments/header :: header}"></div>

<!-- 컨텐츠 -->
<div class="container mt-4" style="max-width: 600px;">
    <h1 class="mb-4 text-center">게시글 상세보기</h1>

    <div class="table-responsive">
        <table class="table table-bordered text-center align-middle">
            <tbody>
            <tr>
                <th scope="row" style="width: 30%;">번호</th>
                <td th:text="${recommendation.id}">1</td>
            </tr>
            <tr>
                <th scope="row">상호명</th>
                <td th:text="${recommendation.storeName}">가게 이름</td>
            </tr>
            <tr>
                <th scope="row">별점</th>
                <td>
                        <span class="rating-stars">
                            <span th:each="i : ${#numbers.sequence(1, recommendation.star)}" class="star filled">★</span>
                            <span th:if="${recommendation.star < 5}"
                                  th:each="i : ${#numbers.sequence(1, 5 - recommendation.star)}"
                                  class="star empty">★</span>
                        </span>
                </td>
            </tr>
            <tr>
                <th scope="row">소요시간</th>
                <td th:text="${recommendation.totalTime + ' 분'}">30 분</td>
            </tr>
            <tr>
                <th scope="row">인당가격</th>
                <td th:text="${recommendation.pricePerPerson + ' 원'}">10,000 원</td>
            </tr>
            <tr>
                <th scope="row">예약가능</th>
                <td>
                    <span th:if="${recommendation.reservation}" class="badge bg-success">가능</span>
                    <span th:unless="${recommendation.reservation}" class="badge bg-secondary">불가능</span>
                </td>
            </tr>
            </tbody>
        </table>
        <div style="max-width: 100%; width: fit-content; margin-left: auto;">
            <button class="btn btn-write" onclick="listReq()">목록</button>
            <button class="btn btn-write" onclick="updateReq()">수정</button>
<!--            <button class="btn btn-write" onclick="deleteReq()">삭제</button>-->
        </div>
    </div>
</div>


<!-- 푸터 -->
<div th:replace="~{fragments/footer :: footer}"></div>

</div>

<!-- JavaScript for 버튼 동작 및 AJAX 댓글 작성 -->

<script th:inline="javascript">

    const listReq = () => {
        location.href = "/recommendation";
    };

    const updateReq = () => {
        location.href = `/recommendation/update/[[${recommendation.id}]]`;
    };

    const deleteReq = () => {
        location.href = `/recommendation/delete/[[${recommendation.id}]]`;
    };

</script>

</body>
</html>
